# 1. 对比 Vector、ArrayList、LinkedList 有何区别？适合在什么场景下使用？
三者都实现了集合框架中的 List，即有序集合。

* Vector
  * Java 早期提供的线程安全的动态数组(如果不需要线程安全不建议选择)； 
  * Vector 内部使用对象数组来保存数据，可以根据需要自动扩容。数组满时，会创建一个新的扩容后数组，然后拷贝原数组数据到新数组；
* ArrayList (擅长“查询”和“更新”)
  * 本身不是线程安全的，故性能更好。其与 Vector 相似也可以根据需要调整容量，但 Vector 扩容时提高一倍，ArrayList 只增加 50%；
  * 数据结构：动态数组；
  * 随机查询效率(优势)：ArrayList 在随机访问的时候效率优于 LinkedList。因为 LinkedList 是线性的数据存储方式，需要移动指针从头到尾依次查找，而 ArrayList 可以根据脚标直接锁定位置；
  * 插入和删除效率(劣势)：ArrayList 在插入和删除数据时的效率差于 LinkedList。因为 ArrayList 在插入和删除数据时会影响其他元素的位置(整体移动)，但是对于末尾追加元素的方式效率基本相同；
  * 内存空间占用(优势)：ArrayList 在内存占用方面优于 LinkedList。因为 LinkedList 的节点除了存储数据，还维护了两个引用：一个指向前驱元素，一个指向后继元素；
* LinkedList (擅长“插入”和“删除”)
  * Java 提供的双向链表，不需要调整容量，不保证线程安全；
  * 数据结构：双向链表；
  * 随机查询效率(劣势)
  * 插入和删除效率(优势)：LinkedList 在查询数据时需要从前向后遍历查询，但是在插入数据时只需要记录当前项的前驱元素和后继元素即可，故速度较快；
  * 内存空间占用(劣势)
  
## 1.1 追问：多线程场景下就不能使用 ArrayList 么？
ArrayList 不是线程安全的，如果确实需要在多线程场景下使用 ArrayList，可以通过 Collections 提供的 synchronizedList 方法将 ArrayList 转换成线程安全的容器再使用。

`List<String> syncList = Collections.synchronizedList(arrayList);`

# 2. List 和 Set 有什么区别？
List 和 Set 都继承自 Collection 接口，两者的区别主要体现在以下几点：
* 重复对象：List 允许存在重复的对象；Set 不允许存在重复对象
* null 元素：List 可以插入多个 null 元素；Set 只能够插入一个 null 元素
* 容器是否有序：List 有序，保证每一个元素的插入顺序；Set 无序(TreeSet 通过 Comparator 或 Comparable 维护了一个排序顺序)
* 遍历方式：List 支持 for 循环遍历和迭代器 Iterator 遍历；Set 只能用迭代器遍历，因为它无序
* 常用的实现类：List：ArrayList、LinkedList、Vector；Set：HashSet、LinkedHashSet、TreeSet

## 2.1 追问：List 与 Set 相比效率如何？
* List：可以动态增长，查找元素效率高，插入删除元素效率低，因为会引起其他元素位置的变化；
* Set：插入和删除元素效率高，查询元素效率低(但是理想情况下，不考虑哈希冲突，一次定位即可完成，但是不现实)；

## 2.2 追问：说一下 HashSet 的实现原理
HashSet 底层是基于 HashMap 实现的，能够继承 HashMap 的所有特性，因此其底层的数据结构也是 数组 + 链表 + 红黑树。
HashSet 的操作基本上都是直接调用底层 HashMap 的相关方法来完成，其不允许 key 重复，但是支持 null 对象作为 key。

## 2.3 追问：HashSet 是如何保证 key 不重复的？
HashSet 的元素是不能重复的，故其在业务上经常被用来去重。当我们在 HashSet 中添加一个元素时，调用的是它的 add() 方法。其源码如下：

```java
    public boolean add(E e) {
        return map.put(e, PRESENT)==null;
    }
```

由源码可知，其维护了一个 HashMap 来实现元素的添加，因为 HashMap 的 Key 是不能重复的(通过 hashcode() 与 equals() 方法判断)，而向 HashSet 中添加元素时也是将元素添加到 HashMap 的 key 的位置，这也就决定了 HashSet 中的元素也是唯一的。


# 3. Array 和 ArrayList 有什么区别？
* Array 即数组，可以存储基本数据类型和引用数据类型；而 ArrayList 只能存储引用数据类型
* Array 大小固定；ArrayList 可以自动扩容
* Array 的内置方法没有 ArrayList 多，比如 addAll()/removeAll()/iteration() 等...

Array 与 ArrayList 可以相互转换
* `Array --> List ：Arrays.asList(array);`
* `List --> Array ： list.toArrat(array);`



















